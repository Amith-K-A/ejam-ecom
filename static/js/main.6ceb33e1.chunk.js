(this["webpackJsonpejam-ecom"]=this["webpackJsonpejam-ecom"]||[]).push([[0],{103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(37),s=c.n(a),i=(c(68),c(17)),o=c(20),d=c(5),l=c(4),u=c(38),j=c.n(u),b={getProducts:function(){return j.a.get("https://test.ejam.com/api/recruitment/frontendtask1/products")}},O=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(),s=Object(l.a)(a,2),i=s[0],o=s[1],d=Object(r.useState)(),u=Object(l.a)(d,2),j=u[0],O=u[1],m=Object(r.useCallback)((function(e){return e?(O(e),e):(n(!0),b.getProducts().then((function(e){O(e.data.products),o(void 0),n(!1)})).catch((function(e){o(e),n(!1)})))}),[]);return Object(r.useEffect)((function(){m()}),[m]),{loading:c,error:i,products:j,refreshProducts:m}},m=c(14),h="ADD_TO_CART",p="REMOVE_FROM_CART",x="INCREASE_QUANTITY",f="DECREASE_QUANTITY",v="SET_ADDRESS",g="CLEAR_CART",N=function(e){return(null===e||void 0===e?void 0:e.slice().reduce((function(e,t){return e+t.qty*(t.price+t.shippingPrice)}),0)).toFixed(2)},E=c(27),I=c(29),y=c(62),S=(c(97),c(0)),C=function(){var e=Object(r.useState)(),t=Object(l.a)(e,2),c=t[0],n=t[1];return Object(r.useEffect)((function(){Object(y.a)("https://test.ejam.com/",{query:{applicantAuth:"cV874bxX9TmbBp2H8vsZkFaZ"},transports:["websocket"]}).on("UPDATE_VIEWERS",(function(e){return n(e.viewers)}))}),[]),c?Object(S.jsxs)("div",{className:"view",children:[Object(S.jsx)(E.a,{icon:I.b,size:"lg"}),Object(S.jsx)("div",{className:"numbers",children:c})," people are watching this limited offer right now!"]}):Object(S.jsx)(S.Fragment,{})},P=(c(99),Object(i.b)((function(e){return{cartItems:e.cart.cartItems.cartItems}}),(function(e){return{addToCart:function(t){return e(function(e){return function(t,c){var r=c().cart.cartItems.slice(),n=!1;r.forEach((function(t){t.id===e.id&&(n=!0)})),n||r.push(Object(m.a)({},e));var a=N(r);t({type:h,payload:{cartItems:r,totalPrice:a}}),localStorage.setItem("cartItems",JSON.stringify(r)),localStorage.setItem("totalPrice",JSON.stringify(a))}}(t))}}}))((function(e){var t=e.product,c=e.isInCart,n=e.addToCart,a=Object(r.useState)(1),s=Object(l.a)(a,2),i=s[0],d=s[1];return Object(S.jsxs)("div",{className:"product-card",children:[Object(S.jsx)(C,{}),Object(S.jsx)(o.b,{to:"/product/".concat(t.id),children:Object(S.jsx)("img",{src:t.imageUrl,alt:""})}),Object(S.jsxs)("div",{className:"content",children:[Object(S.jsx)("h3",{children:Object(S.jsx)(o.b,{to:"/product/".concat(t.id),children:t.name})}),Object(S.jsx)("div",{className:"heart-wrapper",children:Object(S.jsx)("div",{className:"price-name-wrapper",children:Object(S.jsxs)("span",{children:[t.price," ",t.currency," ",t.shippingPrice?Object(S.jsxs)(S.Fragment,{children:["+ ",t.shippingPrice," ",t.currency," Shipping Charges"]}):Object(S.jsx)(S.Fragment,{children:"+ Free shipping"})]})})}),Object(S.jsx)("div",{className:"star-wrapper"}),Object(S.jsxs)("div",{className:"button-wrapper",children:[!c&&Object(S.jsxs)("span",{className:"increments",children:[Object(S.jsx)("button",{className:"card-button",disabled:c,onClick:function(){i<=9&&d(i+1)},children:"+"}),Object(S.jsx)("div",{className:"count",children:i}),Object(S.jsx)("button",{className:"card-button",disabled:c,onClick:function(){i>=2&&d(i-1)},children:"-"})]}),Object(S.jsx)("button",{className:"card-button",disabled:c,onClick:function(e){e.preventDefault(),t.qty=i,n(t)},children:c?"Added to cart":"Add to cart"})]})]})]})}))),w=(c(103),Object(i.b)((function(e){return{cartItems:e.cart.cartItems}}))((function(e){var t=e.products,c=e.cartItems,r=function(e){var t=!1;return null===c||void 0===c||c.map((function(c){c.id===e.id&&(t=!0)})),t};return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"products-items",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(P,{product:e,isInCart:r(e)},t)}))})})})));c(104);var T,A=function(){return Object(S.jsxs)("div",{className:"wrap",children:[Object(S.jsx)("div",{className:"loader loader-1"}),Object(S.jsx)("div",{className:"loader loader-2"}),Object(S.jsx)("div",{className:"loader loader-3"}),Object(S.jsx)("div",{className:"loader loader-4"}),Object(S.jsx)("div",{className:"loader loader-5"})]})},L=(c(105),function(){var e=O(),t=e.loading,c=e.products;return t?Object(S.jsx)(A,{}):Object(S.jsxs)("section",{children:[Object(S.jsx)("div",{className:"category-wrapper"}),Object(S.jsx)(w,{products:c})]})}),F=(c(106),function(e){var t=e.placeholder,c=void 0===t?"":t,r=e.reference,n=void 0===r?null:r,a=e.id,s=void 0===a?"":a,i=e.errorText,o=e.error,d=e.type,l=void 0===d?"text":d,u=e.required,j=void 0!==u&&u,b=e.onChange,O=e.value;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("input",{type:l,placeholder:c,id:s,ref:n,required:j,onChange:b,value:O}),o&&Object(S.jsx)("span",{className:"error",children:i})]})}),k=(c(107),Object(i.b)((function(e){return{address:e.cart.address,totalPrice:e.cart.totalPrice}}),(function(e){return{setAddress:function(t){return e(function(e){return function(t,c){t({type:v,payload:{address:e}}),localStorage.setItem("address",JSON.stringify(e))}}(t))}}}))((function(e){var t=e.address,c=e.setAddress,n=e.totalPrice,a=Object(r.useState)(null===t||void 0===t?void 0:t.firstName),s=Object(l.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(null===t||void 0===t?void 0:t.secondName),j=Object(l.a)(u,2),b=j[0],O=j[1],m=Object(r.useState)(null===t||void 0===t?void 0:t.pin),h=Object(l.a)(m,2),p=h[0],x=h[1],f=Object(r.useState)(null===t||void 0===t?void 0:t.phoneNumber),v=Object(l.a)(f,2),g=v[0],N=v[1],E=Object(d.f)(),I=Object(r.useState)(null===t||void 0===t?void 0:t.shippingAddress),y=Object(l.a)(I,2),C=y[0],P=y[1];return n?Object(S.jsx)("form",{onSubmit:function(){c({firstName:i,secondName:b,pin:p,phoneNumber:g,shippingAddress:C}),E.push("/place-order")},children:Object(S.jsxs)("div",{className:"address-wrapper",children:[Object(S.jsx)("h1",{className:"card-title",children:"Enter Your Shipping Details"}),Object(S.jsx)("label",{htmlFor:"username",children:"Name"}),Object(S.jsxs)("div",{className:"card-input-container name",children:[Object(S.jsx)(F,{value:i,placeholder:"Enter your First Name",onChange:function(e){return o(e.target.value)},id:"nameOne",required:!0}),Object(S.jsx)(F,{value:b,placeholder:"Enter your Last Name",onChange:function(e){return O(e.target.value)},id:"nameTwo",required:!0})]}),Object(S.jsx)("label",{htmlFor:"address",children:"Shipping Address"}),Object(S.jsx)("div",{className:"card-input-container password",children:Object(S.jsx)(F,{value:C,placeholder:"Enter your full address",onChange:function(e){return P(e.target.value)},id:"adders",required:!0})}),Object(S.jsx)("label",{htmlFor:"password",children:"Phone Number"}),Object(S.jsx)("div",{className:"card-input-container password",children:Object(S.jsx)(F,{value:g,placeholder:"Enter your phone number",onChange:function(e){return N(e.target.value)},type:"number",id:"phone",required:!0})}),Object(S.jsx)("label",{htmlFor:"password",children:"PIN Number"}),Object(S.jsx)("div",{className:"card-input-container password",children:Object(S.jsx)(F,{value:p,placeholder:"Enter your pin number",onChange:function(e){return x(e.target.value)},type:"number",id:"pin",required:!0})}),Object(S.jsx)("button",{type:"submit",className:"next-button",children:"NEXT"})]})}):Object(S.jsx)(S.Fragment,{children:"No Items in cart!!"})}))),R=(c(108),function(){return Object(S.jsx)(k,{})}),B=c(63);!function(e){e[e.MOBILE=280]="MOBILE",e[e.MOBILELARGE=414]="MOBILELARGE",e[e.TABLET=768]="TABLET",e[e.LAPTOP=1024]="LAPTOP",e[e.DESKTOP=1440]="DESKTOP"}(T||(T={}));var D=function(){var e=Object(r.useState)(window.innerWidth),t=Object(l.a)(e,2),c=t[0],n=t[1];Object(r.useEffect)((function(){var e=function(){n(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);for(var a=!1,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];for(var d=0,u=Object.values(i);d<u.length;d++){var j=u[d];if(a)break;switch(j){case T.MOBILE:a=c<T.MOBILELARGE&&c>=T.MOBILE;continue;case T.MOBILELARGE:a=c<T.TABLET&&c>=T.MOBILELARGE;continue;case T.TABLET:a=c<T.LAPTOP&&c>=T.TABLET;continue;case T.LAPTOP:a=c<T.DESKTOP&&c>=T.LAPTOP;continue;case T.DESKTOP:a=c>=T.DESKTOP;continue;default:a=!1}}return a},M=(c(109),function(){return Object(S.jsx)("header",{className:"header",children:Object(S.jsx)("nav",{className:"menuItems",role:"navigation",children:Object(S.jsxs)("div",{id:"menuToggle",children:[Object(S.jsx)("input",{type:"checkbox"}),Object(S.jsx)("span",{}),Object(S.jsx)("span",{}),Object(S.jsx)("span",{}),Object(S.jsxs)("ul",{id:"menu",children:[Object(S.jsx)("a",{href:"/",children:Object(S.jsx)("li",{children:"Home"})}),Object(S.jsx)("a",{href:"/cart",children:Object(S.jsx)("li",{children:"Cart"})})]})]})})})}),q=(c(110),Object(i.b)((function(e){return{cartItems:e.cart.cartItems,totalPrice:e.cart.totalPrice}}),(function(e){return{removeFromCart:function(t){return e(function(e){return function(t,c){var r=c().cart.cartItems.slice().filter((function(t){return t.id!==e.id})),n=N(r);t({type:p,payload:{cartItems:r,totalPrice:n}}),localStorage.setItem("cartItems",JSON.stringify(r)),localStorage.setItem("totalPrice",JSON.stringify(n))}}(t))}}}))((function(e){var t=e.cartItems,c=e.removeFromCart,n=e.totalPrice,a=Object(r.useState)(!1),s=Object(l.a)(a,2),i=s[0],o=s[1],u=Object(d.f)();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("nav",{className:"bag",children:Object(S.jsx)("span",{onClick:function(){o(!i)},children:Object(S.jsxs)("div",{className:"header__option",children:[Object(S.jsx)("span",{children:Object(S.jsx)(E.a,{icon:I.c,size:"lg"})}),t.length>0&&Object(S.jsx)("span",{className:"header__basketCount",children:t.length})]})})}),i&&Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)("div",{className:"shopping-cart",children:[t.length>0&&Object(S.jsxs)("div",{className:"shopping-cart-header",children:[Object(S.jsx)("span",{className:"badge",children:t.length}),Object(S.jsxs)("div",{className:"shopping-cart-total",children:[Object(S.jsx)("span",{className:"lighter-text",children:"Total:"}),Object(S.jsxs)("span",{className:"main-color-text",children:[n," $"]})]})]}),t.length>0?t.map((function(e){return Object(S.jsx)("div",{className:"shopping-cart-items",children:Object(S.jsxs)("span",{className:"clearfix",children:[Object(S.jsx)("img",{src:e.imageUrl,alt:"item1"}),Object(S.jsx)("span",{className:"item-name",children:e.name}),Object(S.jsxs)("span",{className:"item-price",children:[e.price+e.shippingPrice," ",e.currency]}),Object(S.jsxs)("span",{className:"item-quantity",children:["Quantity: ",e.qty]}),Object(S.jsx)("button",{className:"card-button",onClick:function(){return c(e)},children:"Remove from cart"})]})})})):Object(S.jsx)("div",{className:"empty",children:"Nothing In the cart"}),t.length>0&&Object(S.jsx)("button",{className:"card-button",onClick:function(){u.push("/checkout"),o(!1)},children:"Checkout"})]})})]})})));c(111);var _=function(){var e=D(T.MOBILE,T.MOBILELARGE);return Object(S.jsxs)("header",{className:"header",children:[e?Object(S.jsx)(M,{}):Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("section",{className:"header_section_wrapper",children:Object(S.jsx)("nav",{children:Object(S.jsx)(o.b,{to:"/"})})})}),Object(S.jsx)(q,{})]})},J=["component"],V=function(e){var t=e.component,c=Object(B.a)(e,J);return Object(S.jsx)(d.a,Object(m.a)(Object(m.a)({},c),{},{render:function(e){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("main",{children:[Object(S.jsx)(_,{}),Object(S.jsx)(t,Object(m.a)({},e))]})})}}))},G=c(45),K=c.n(G),Y=c(59),z=(c(113),{postOrder:function(e){try{return j.a.post("https://test.ejam.com/api/recruitment/frontendtask1/order",JSON.stringify(e))}catch(t){throw t}}}),U=Object(i.b)((function(e){return{address:e.cart.address,totalPrice:e.cart.totalPrice,items:e.cart.cartItems}}),(function(e){return{clearCart:function(){return e((function(e){var t=[],c=N(t);e({type:p,payload:{cartItems:t}}),localStorage.setItem("cartItems",JSON.stringify(t)),localStorage.setItem("totalPrice",JSON.stringify(c))}))}}}))((function(e){var t=e.address,c=e.totalPrice,n=e.items,a=e.clearCart,s=Object(r.useState)(0),i=Object(l.a)(s,2),o=i[0],u=i[1],j=Object(r.useState)(0),b=Object(l.a)(j,2),O=b[0],m=b[1],h=Object(r.useState)(0),p=Object(l.a)(h,2),x=p[0],f=p[1],v=Object(d.f)(),g=function(){var e=Object(Y.a)(K.a.mark((function e(c){var r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),r={cardDetails:{number:o,date:O,cvv:x},address:t,items:n},z.postOrder(r).then((function(e){v.push("/confirm/".concat(e.data.id)),a()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(S.jsx)("form",{onSubmit:g,children:Object(S.jsxs)("div",{className:"address-wrapper",children:[Object(S.jsx)("h1",{className:"card-title",children:"Enter Your Card Details"}),Object(S.jsx)("label",{htmlFor:"username",children:"Card Number"}),Object(S.jsx)("div",{className:"card-input-container password",children:Object(S.jsx)(F,{placeholder:"Enter your Card Number",onChange:function(e){return u(e.target.value)},id:"number",value:o,type:"number",required:!0})}),Object(S.jsx)("label",{htmlFor:"address",children:"Expiration date"}),Object(S.jsx)("div",{className:"card-input-container password",children:Object(S.jsx)(F,{placeholder:"Enter your card Expiration in MM/YY formate",onChange:function(e){return m(e.target.value)},id:"date",value:O,required:!0})}),Object(S.jsx)("label",{htmlFor:"password",children:"CVV"}),Object(S.jsx)("div",{className:"card-input-container password",children:Object(S.jsx)(F,{placeholder:"Enter your card CVV number",onChange:function(e){return f(e.target.value)},type:"number",id:"cvv",value:x,required:!0})}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)("button",{onClick:function(){return v.push("/checkout")},className:"next-button",children:"BACK"}),Object(S.jsx)("button",{type:"submit",className:"next-button",children:"CONFIRM ORDER"})]})]})}):Object(S.jsx)(S.Fragment,{children:"No Items in cart!!"})})),W=(c(114),function(e){var t=e.match;return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"success-card",children:[Object(S.jsx)("div",{className:"check-mark",children:Object(S.jsx)(E.a,{icon:I.a,size:"6x"})}),Object(S.jsx)("h1",{children:t.params.id}),Object(S.jsx)("p",{children:"We received your purchase request"})]})})}),Q=c(30),H=c(60),X=c(61),Z=Object(Q.combineReducers)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:JSON.parse(localStorage.getItem("cartItems")||"[]"),totalPrice:JSON.parse(localStorage.getItem("totalPrice")||"0"),address:JSON.parse(localStorage.getItem("address")||"{}")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case g:case p:return Object(m.a)(Object(m.a)({},e),{},{cartItems:t.payload.cartItems,totalPrice:t.payload.totalPrice});case x:case f:return Object(m.a)(Object(m.a)({},e),{},{cartItems:t.payload.cartItems});case v:return Object(m.a)(Object(m.a)({},e),{},{address:t.payload.address});default:return e}}}),$=[X.a],ee=Object(Q.createStore)(Z,{},Object(H.composeWithDevTools)(Q.applyMiddleware.apply(void 0,$)));c(115);var te=function(){return Object(S.jsx)(i.a,{store:ee,children:Object(S.jsx)(o.a,{children:Object(S.jsxs)(d.c,{children:[Object(S.jsx)(V,{exact:!0,path:"/",component:L}),Object(S.jsx)(V,{exact:!0,path:"/checkout",component:R}),Object(S.jsx)(V,{exact:!0,path:"/place-order",component:U}),Object(S.jsx)(V,{exact:!0,path:"/confirm/:id",component:W})]})})})},ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,117)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))};s.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(te,{})}),document.getElementById("root")),ce()},68:function(e,t,c){},97:function(e,t,c){},99:function(e,t,c){}},[[116,1,2]]]);
//# sourceMappingURL=main.6ceb33e1.chunk.js.map